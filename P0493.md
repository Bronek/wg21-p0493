---
title: Atomic minimum/maximum
document: P0493P3
date: 2021-12-02
audience:
  - WG21 SG21 (Contracts)
author:
  - name: Al Grant
    email: <al.grant@arm.com>
  - name: Bronek Kozicki
    email: <brok@spamcop.net>
  - name: Tim Northover
    email: <tnorthover@apple.com>
---

# Abstract

Add integer *max* and *min* operations to the set of operations supported in `<atomic>`. There are minor adjustments to function naming necessitated by the fact that `max` and `min` do not exist as infix operators.

# Open isues

In contrast to the existing atomic operations, some platforms which are known to implement atomic *min* and *max* in hardware, leave it unspecified as to whether the write takes place if the new value is the same as the old value. This paper acknowledges such platforms and proposes a solution to enable writing portable code using the newly proposed atomic operations.

# Changelog


## R2 to R3

Published 2021-12-??

- Following LEWG feedback, revert to require store if the value does not change

## R1 to R2

Published 2021-05-11

- Change proposal to make the store unspecified if the value does not change
- Align C++20

## R0 to R1

Published 2020-05-08

- Add motivation for defining new atomics as read-modify-write
- Clarify status of proposal for new-value-returning operations.
- Align with C++17.


## R0 

Published 2016-11-08

- Original proposal


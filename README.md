# Atomic maximum/minimum

Paper P0493 for [WG21](http://www.open-std.org/jtc1/sc22/wg21)

Authors: Al Grant (al.grant@arm.com), Bronek Kozicki (brok@spamcop.net), Tim Northover (tnorthover@apple.com)

Audience: SG1, LEWG

## Branches

**Refer to branch [rev3](https://github.com/Bronek/wg21-p0493/tree/rev3) for P0493R3** (revision 3), including example implementation and benchmarks.

This [main](https://github.com/Bronek/wg21-p0493/tree/main) branch may contain unpublished changes, including incompatible changes in the benchmark code.

**Benchmark results may not be compared between branches**

## Directory structure

* `bench` finds maximum value from a series generated by a PRNG
* `D0493R4.md` actual editable proposal text (unpublished draft)
* `D0493R4.pdf` generated with https://github.com/mpark/wg21 (thanks [Michael Park](https://mpark.github.io/programming/2018/11/16/how-i-format-my-cpp-papers/) !)
* `fetch_max.hpp` different implementations of `atomic_fetch_max_explicit`, as measured in benchmarks

Note, the _default architecture_ for benchmarks is **not** Intel x86_64, as to our knowledge this architecture does not implement atomic `fetch_max` in hardware; instead it is ARMv8.1 ; to build the benchmarks on Intel you will need to set `MARCH` env. variable, e.g.

```bash
cd bench; MARCH=core2 make
```
